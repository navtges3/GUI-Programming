<!--
  91.61 Assignment: Using the jQuery Validation Plugin with Your Dynamic Table
  Nicholas E. Avtges, Umass Lowell Computer Science, nicholas_avtges@student.uml.edu
  Created 11/2/2020
-->

<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Dynamic Table</title>
        <meta charset="utf-8">
        <link rel="stylesheet" href="css/mystyle.css">
        <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/themes/smoothness/jquery-ui.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>
        <script src="https://code.jquery.com/ui/1.11.4/jquery-ui.min.js"></script>
        <script src="https://code.jquery.com/ui/jquery-ui-git.js"></script>
        <script src="js/myScript.js"></script>
        <script src="C:\Users\Nick\node_modules\jquery-validation\dist\jquery.validate.js"></script>
    </head>
    <body onload="startup();">
        <h2>Enter Numbers Bellow</h2>
        <!-- Creates a form that will get the numbers to calculate the multiplication table. -->
        <form name="myForm" id="myForm" action method="get" onsubmit="newTab();return false">
           <label for="n1">Starting Column Value:</label>
           <div id="slider1"></div>
           <input type="number" id="n1" name="n1" onchange="valueChanged(1)"><br>
           <label for="n2">Ending Column Value:</label>
           <div id="slider2"></div>
           <input type="number" id="n2" name="n2" onchange="valueChanged(2)"><br>
           <label for="n3">Starting Row Value:</label>
           <div id="slider3"></div>
           <input type="number" id="n3" name="n3" onchange="valueChanged(3)"><br>
           <label for="n4">Ending Row Value:</label>
           <div id="slider4"></div>
           <input type="number" id="n4" name="n4" onchange="valueChanged(4)"><br>
           <input type="submit" name="Save" value="Save">
        </form>

        <div id="tabs">
          <ul id="tabs ul">
            <li><a href="#fragment0">Tab 0</a></li>
          </ul>
          <div id="fragment0">
          </div>
        </div>

        <!-- Validate the form -->
        <script>
          $( function() {
            $( "#tabs" ).tabs();
          });

          var nextTab = 1;
          //Create a new tab
          function newTab() {
            $("<li><a href='#fragment" + nextTab + "'>Tab "+nextTab+"</a></li>").appendTo("#tabs ul");
            $("<div id='fragment" + nextTab + "'></div>").appendTo("#tabs");
            //add a copy of myTable to fragment-nextTab
            var $div = $('div[id^="fragment"]:last');
            var $table = $( '#myTable' ).clone().prop('id', 'myTable'+nextTab);
            $div.append( $table );
            nextTab++;
            $("#tabs").tabs("refresh");
          }

          var min = -200;
          var max = 200;
          //Sliders bellow
          $( function() {
            $( "#slider1" ).slider({
              orientation: "horizontal",
              range: "min",
              min: min,
              max: max,
              value: 1,
              change: function (event, ui){ updateTable();},
              slide: function( event, ui ) {
                $( "#n1" ).val( ui.value );
              }
            });
            $( "#n1" ).val( $( "#slider1" ).slider( "value" ) );
          } );
          $( function() {
            $( "#slider2" ).slider({
              orientation: "horizontal",
              range: "min",
              min: min,
              max: max,
              value: 10,
              change: function (event, ui){ updateTable();},
              slide: function( event, ui ) {
                $( "#n2" ).val( ui.value );
              }
            });
            $( "#n2" ).val( $( "#slider2" ).slider( "value" ) );
          } );
          $( function() {
            $( "#slider3" ).slider({
              orientation: "horizontal",
              range: "min",
              min: min,
              max: max,
              value: 1,
              change: function (event, ui){ updateTable();},
              slide: function( event, ui ) {
                $( "#n3" ).val( ui.value );
              }
            });
            $( "#n3" ).val( $( "#slider3" ).slider( "value" ) );
          } );
          $( function() {
            $( "#slider4" ).slider({
              orientation: "horizontal",
              range: "min",
              min: min,
              max: max,
              value: 10,
              change: function (event, ui){ updateTable();},
              slide: function( event, ui ) {
                $( "#n4" ).val( ui.value );
              }
            });
            $( "#n4" ).val( $( "#slider4" ).slider( "value" ) );
          } );



          //validator stuff
          $("#myForm").validate({
              rules: {
                n1: {
                  requred: true,
                  max: max,
                  min: min
                },
                n2: {
                  requred: true,
                  max: max,
                  min: min
                },
                n3: {
                  requred: true,
                  max: max,
                  min: min
                },
                n4: {
                  requred: true,
                  max: max,
                  min: min
                }
              }
          });
        </script>
    </body>
</html>
